<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8"/>
<meta content="width=device-width, initial-scale=1" name="viewport"/>
<title>Pick Your Reward</title>
<link crossorigin href="https://fonts.googleapis.com" rel="preconnect"/>
<link crossorigin href="https://fonts.gstatic.com" rel="preconnect"/>
<link crossorigin href="https://i.postimg.cc" rel="preconnect"/>
<link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;600&display=swap" rel="stylesheet"/>
<!-- Umami Analytics -->
<script defer src="https://cloud.umami.is/script.js" data-website-id="8ca5b018-f00b-4957-8139-ce0333d8fce2"></script>
<style>
body{background:#fff;margin:0;font-family:'Montserrat',sans-serif;color:#000;}
.container{max-width:500px;margin:0 auto;padding:20px;box-sizing:border-box;text-align:center;}
h1{font-size:28px;font-weight:600;margin:20px 0 10px;color:#222;}
.subheadline{font-size:18px;color:#666;margin-bottom:30px;}
.reward-btn{display:flex;align-items:center;justify-content:flex-start;width:100%;max-width:460px;margin:15px auto;padding:16px 20px;border-radius:50px;color:#fff;font-size:16px;font-weight:500;text-decoration:none;transition:transform .2s;animation:pulse 2.2s infinite;box-sizing:border-box;background:#ff66b2;box-shadow:0 0 0 0 rgba(255,102,178,.35);}
.reward-btn:hover{transform:scale(1.05);}
@keyframes pulse{0%{box-shadow:0 0 0 0 rgba(255,102,178,.35);}70%{box-shadow:0 0 0 12px rgba(255,102,178,0);}100%{box-shadow:0 0 0 0 rgba(255,102,178,0);}}
.btn-logo{width:50px;height:50px;border-radius:50%;margin-right:15px;object-fit:contain;background:#fff;padding:4px;}
.text-container{flex-grow:1;text-align:left;}
.text-container span:first-child{font-size:18px;font-weight:600;}
.subtext{font-size:13px;opacity:.9;margin-top:4px;}
.eligible-box{background:#f8f8f8;max-width:460px;margin:20px auto;padding:12px;font-size:14px;border-radius:12px;border:1px solid #eee;}
.header-img{width:100%;max-width:460px;border-radius:16px;margin:10px auto;display:block;box-shadow:0 4px 12px rgba(0,0,0,.08);}
.trust-text{font-size:12px;color:#888;margin:20px 0;}
</style>
</head>
<body>
<div class="container">
  <img class="header-img" src="https://i.guim.co.uk/img/media/2dff9f90972707b6284f4ed86a11edc6eeaca30e/0_145_3777_2267/master/3777.jpg?width=1200&height=900&quality=85&auto=format&fit=crop&s=fca9c63627d3a8629a2465f96430a31d" alt="Pink SHEIN haul"/>
  <img class="header-img" src="https://i.ytimg.com/vi/nqiblQCcQ1A/hq720.jpg?sqp=-oaymwEhCK4FEIIDSFryq4qpAxMIARUAAAAAGAElAADIQj0AgKJD&rs=AOn4CLCEAvimzqi9CsbsaM1uMUJqh58SDw" alt="Girly pink accessories"/>

  <h1>Pick Your Dream Reward üëóüíÑ</h1>
  <p class="subheadline">Limited rewards available ‚Äì see if you qualify in seconds!</p>

  <!-- SHEIN Button -->
  <a href="#" id="shein-btn" class="reward-btn" data-umami-event="shein-click">
    <img class="btn-logo" src="https://i.postimg.cc/zBfxrrSy/c5910bd5-e5b2-4c70-b124-9560d8cbf698-link-in-bio-links-block-home-2af2051e-f17c-4f49-8af7-1eac99.webp" alt="SHEIN"/>
    <div class="text-container">
      <span>$750 SHEIN Gift Card</span>
      <span class="subtext">Fashion hauls waiting for you ‚ú®</span>
    </div>
  </a>

  <!-- ULTA Button (shown for everyone) -->
  <a href="https://glctrk.org/aff_c?offer_id=3096&aff_id=15802" id="ulta-btn" class="reward-btn" data-umami-event="ulta-click">
    <img class="btn-logo" src="https://i.postimg.cc/QC4QzVhC/a6457663baf8ae2564f3eb449b39d60b.jpg" alt="Ulta Beauty"/>
    <div class="text-container">
      <span>$500 Ulta Beauty Gift Card</span>
      <span class="subtext">Makeup & skincare heaven üíñ</span>
    </div>
  </a>

  <div class="eligible-box" id="eligible-box">Checking eligibility...</div>
  <p class="trust-text">üîí Secure & Powered by Trusted Partners</p>
</div>

<script>
const eligibleBox = document.getElementById('eligible-box');
const sheinBtn = document.getElementById('shein-btn');

// SHEIN links (geo-specific)
const linkSheinUS = "https://glctrk.org/aff_c?offer_id=3091&aff_id=15802";
const linkSheinCA = "https://glctrk.org/aff_c?offer_id=3105&aff_id=15802";
const linkSheinGB = "https://glctrk.org/aff_c?offer_id=3105&aff_id=15802";
const linkSheinAU = "https://glctrk.org/aff_c?offer_id=3105&aff_id=15802";
const linkSheinRest = "https://rewardorbit.com/r/eyJ0Ijoic2hlaW4iLCJ1IjoiNjdkNTliZmEzNjlmZTUyYjM5YTAwOTdmIiwiYSI6Ijc1MCIsInRzIjoxNzY1MjMyNDg5MjAyfQ?amount=750";

function countryCodeToFlagEmoji(cc) {
  if (!cc || cc.length !== 2) return "";
  return String.fromCodePoint(...[...cc.toUpperCase()].map(c => 127397 + c.charCodeAt()));
}

function setSheinLink(cc, cn) {
  eligibleBox.textContent = `‚úÖ You're eligible ‚Äì ${cn} ${countryCodeToFlagEmoji(cc)}`;

  if (cc === "US") sheinBtn.href = linkSheinUS;
  else if (cc === "CA") sheinBtn.href = linkSheinCA;
  else if (cc === "GB") sheinBtn.href = linkSheinGB;
  else if (cc === "AU") sheinBtn.href = linkSheinAU;
  else sheinBtn.href = linkSheinRest;
}

fetch('https://ipapi.co/json/')
  .then(r => r.ok ? r.json() : Promise.reject())
  .then(d => { if (d?.country && d?.country_name) setSheinLink(d.country, d.country_name); else throw new Error(); })
  .catch(() => {
    fetch('https://ipwho.is/')
      .then(r => r.ok ? r.json() : Promise.reject())
      .then(d => { if (d?.country_code && d?.country) setSheinLink(d.country_code, d.country); else throw new Error(); })
      .catch(() => {
        eligibleBox.textContent = "‚úÖ You're eligible üåç";
        sheinBtn.href = linkSheinRest;
      });
  });
</script>
</body>
</html>
